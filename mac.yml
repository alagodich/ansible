---
- hosts: localhost
  connection: local
  become: true

  tasks:
    - name: install essentials
      become_user: alagodich
      become: true
      vars:
        ansible_user: alagodich
      package:
        name:
          - htop
          - zsh
          - tmux
          - vim

    - name: zsh dirs
      copy:
        src: files/zsh_custom/
        dest: /Users/alagodich/.oh-my-zsh/custom/
        owner: alagodich
        group: staff
        mode: 0644

    - name: zsh config
      copy:
        src: files/.zshrc
        dest: /Users/alagodich/.zshrc
        owner: alagodich
        group: staff
        mode: 0644

    - name: vimrc
      copy:
        src: files/.vimrc
        dest: /Users/alagodich/.vimrc
        owner: alagodich
        group: staff
        mode: 0644

    - name: vim config
      copy:
        src: files/vim/
        dest: /Users/alagodich/.vim/
        owner: alagodich
        group: staff
        mode: 0644

    # This will allow holding keys for to repeat instead of bringing context menu for mac special characters
    - name: enable press and hold
      command: defaults write -g ApplePressAndHoldEnabled -bool false
      become_user: alagodich


